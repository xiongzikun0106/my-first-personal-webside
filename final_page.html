<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="utf-8"/>
    <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
    <title>ä½ ç»ˆäºæ‰¾åˆ°è¿™é‡Œäº†ï¼</title>
    <link href="style.css" rel="stylesheet"/>
</head>
<body>
    <header>
        <img alt="image01" id="image01" src="images/image01.jpg" onclick="location.href='index.html'" style="cursor: pointer;"/>
    </header>

    <div>
        <h1>
            <span class="small">è¿™é‡Œæ˜¯</span>
            <span class="medium"><a href="https://x.com/mikotossd0106" target="_blank">å¾¡å‚é±¼å‚</a></span>
        </h1>
        <p style="margin-top: 10px;">
            <span class="small">å¥½å§è¿™ä¸ªäººå¹¶</span>
            <span class="medium">ä¸çŸ¥é“</span>
            <span class="small">å†™ä»€ä¹ˆï¼Œè¯·è¾“å…¥</span>
            <span class="medium">æ–‡æœ¬</span>
        </p>
    </div>

    <div id="ul01">
        <ul>
            <li>
            <span class="small">è€³æœµè¢«</span>
            <span class="medium">æ°´æœˆé›¨</span>
            <span class="small">çš„</span>
            <span class="medium">å’Œé¸£</span>
            <span class="small">ç»™</span>
            <span class="medium">æƒ¯åäº†</span>
            <br/><span class="small" style="font-size: 0.9em;">ï¼ˆæ˜¯ä¸ªHIFIéš¾æ°‘ï¼‰</span>
            </li>
            <li>
            <span class="small">ä¿¡ä»°æ˜¯</span>
            <span class="medium">æŒ‡å°–è·ƒåŠ¨çš„</span>
            <span class="small"><a href="https://space.bilibili.com/514128180" target="_blank">bilibili</a></span>
            <span class="medium">ç”µå…‰</span>
            </li>
            <li>
            <span class="small">æˆåˆ†ç”±</span>
            <span class="medium">Warma</span>
            <span class="small">å’Œè½¯èŒçš„</span>
            <span class="medium"><a href="https://t.me/+85vc8uK_ebUyM2E1" target="_blank">è¯—å²¸</a></span>
            <span class="small">çš„æ­Œå£°</span>
            <span class="medium">æ··åˆè€Œæˆ</span>
            </li>
            <li>
            <span class="small">åœ¨</span>
            <span class="medium">åœ°å¹³çº¿5</span>
            <span class="small">é‡Œ</span>
            <span class="medium">é£™è½¦</span>
            <span class="small">ï¼Œåœ¨</span>
            <span class="medium">Galgame</span>
            <span class="small">é‡Œ</span>
            <span class="medium">é£™æ³ª</span>
            </li>
            <li>
            <span class="small">æ‰‹æŒ</span>
            <span class="medium">ç™½è‰²é™¶ç“·</span>
            <span class="small">è´¨æ„Ÿçš„</span>
            <span class="medium">Pixel 9 Pro XL</span>
            <span class="small">å‡è£…è‡ªå·±æ˜¯</span>
            <span class="medium">åŸç”Ÿå…š</span>
            </li>
            <li>
            <span class="small">æ˜¯ä¸€ä¸ª</span>
            <span class="medium">Keterçº§</span>
            <span class="small">å–œæ¬¢çœ‹</span>
            <span class="medium"><a href="https://scp-wiki-cn.wikidot.com/everkeep-hub" target="_blank">SCP</a></span>
            <span class="small">çš„</span>
            <span class="medium">ç°å®æ‰­æ›²è€…</span>
            </li>
            <li>
            <span class="small">å…³æŠ¼åœ¨</span>
            <span class="medium">åå¹³ç±³</span>
            <span class="small">åªæœ‰</span>
            <span class="medium">åºŠ</span>
            <span class="small">å’Œ</span>
            <span class="medium">AMD 7500f + 4060ti</span>
            <span class="small">çš„</span>
            <span class="medium">ç”µå­ç‰¢æˆ¿</span>
            </li>
            <li>
            <span class="small">æ”¶å®¹æªæ–½ï¼š</span>
            <span class="medium">23â„ƒ</span>
            <span class="small">ä»¥åŠ</span>
            <span class="medium">30%æ¹¿åº¦</span>
            <br/><span class="small" style="font-size: 0.9em; color: #e74c3c;">(æ•‘æ•‘æˆ‘çš„ 3Dæ‰“å°è€—æ)</span>
            </li>
            </ul>
    </div>
    <div style="margin-top: 40px;">
        <p id="link_yiur">
        <a href="https://yiurblog.top/" target="_blank">æ¥è‡ªæ´›ğŸ±çš„å‹é“¾</a>
        </p>
        </div>

    <div style="margin-top: 60px;">
        <h2>
            <span class="small">éšæœºæ‰è½çš„</span>
            <span class="medium">ç¢ç¢å¿µ</span>
            <span class="small">â†“</span>
        </h2>
    </div>

    <div class="card-grid" id="blog-list">
        <p class="small">æ­£åœ¨åŒæ­¥æ•°æ®/p>
    </div>

    <div id="blog-content" style="margin-top: 20px; display: none; width: 100%;">
        <button class="back-btn" onclick="backToList()">â† è¿”å›åˆ—è¡¨</button>
        <div class="content-card" id="post-display-area"></div>
    </div>

    <script>
        // --- åˆå§‹åŒ–åˆ—è¡¨ ---
        async function initBlog() {
            const blogList = document.getElementById("blog-list");
            try {
                // æ·»åŠ æ—¶é—´æˆ³é˜²æ­¢ GitHub Pages ç¼“å­˜ posts.json
                const response = await fetch('data/posts.json?t=' + Date.now());
                const posts = await response.json();
                
                blogList.innerHTML = posts.map(post => `
                    <div class="blog-card" onclick="loadPost('${post.id}')">
                        <h4>${post.title}</h4>
                        <p class="small">${post.intro || 'æš‚æ— ç®€ä»‹'}</p>
                    </div>
                `).join('');
            } catch (error) {
                blogList.innerHTML = '<p class="small">âš ï¸ æ— æ³•è¿æ¥åˆ°æ•°æ®ç»ˆç«¯: ' + error.message + '</p>';
            }
        }

        // --- åŠ è½½æ­£æ–‡ ---
        async function loadPost(postId) {
            const displayArea = document.getElementById("post-display-area");
            document.getElementById("blog-list").style.display = "none";
            document.getElementById("blog-content").style.display = "block";
            displayArea.innerHTML = '<p class="small">æ­£åœ¨è§£å¯†æ–‡æ¡£...</p>';
            window.scrollTo(0, 0);

            try {
                // åŒæ ·æ·»åŠ æ—¶é—´æˆ³é˜²æ­¢ç¼“å­˜
                const response = await fetch(`data/articles/${postId}.json?t=` + Date.now());
                const article = await response.json();

                const lines = article.content_lines || (article.content ? article.content.split('\n') : []);
                let images = article.images || [];
                if (!article.images && article.image) {
                    images.push({ name: article.image, insert_after: -1 });
                }

                let finalHtml = `<h3>${article.title}</h3>`;
                
                // æ¸²æŸ“æ’å›¾é€»è¾‘
                const renderImg = (name) => `<img src="./images/${name}" class="blog-img" style="max-width:100%; border-radius:10px; margin:10px 0;">`;

                // æ ‡é¢˜ä¸‹å›¾ç‰‡
                images.filter(img => img.insert_after === -1).forEach(img => {
                    finalHtml += renderImg(img.name);
                });

                // æŒ‰è¡Œæ¸²æŸ“æ­£æ–‡
                lines.forEach((line, index) => {
                    if(line.trim() !== "") {
                        const isTime = line.includes("å‘å¸ƒæ—¶é—´ï¼š");
                        finalHtml += `<p class="small" style="${isTime ? 'border-top: 1px dashed #ccc; margin-top:20px; padding-top:10px; color:#7f8c8d;' : 'margin-bottom:10px;'}">${line}</p>`;
                    }
                    // è¡Œåå›¾ç‰‡
                    images.filter(img => img.insert_after === index).forEach(img => {
                        finalHtml += renderImg(img.name);
                    });
                });

                displayArea.innerHTML = finalHtml;
            } catch (error) {
                displayArea.innerHTML = `<p class="small" style="color:var(--accent-color)">âš ï¸ è®¿é—®æ‹’ç»: ${error.message}</p>`;
            }
        }

        function backToList() {
            document.getElementById("blog-list").style.display = "grid";
            document.getElementById("blog-content").style.display = "none";
        }

        window.addEventListener('DOMContentLoaded', initBlog);
    </script>
</body>
</html>