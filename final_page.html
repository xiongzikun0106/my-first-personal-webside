<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="utf-8"/>
    <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
    <title>ä½ ç»ˆäºæ‰¾åˆ°è¿™é‡Œäº†ï¼</title>
    <link href="style.css" rel="stylesheet"/>
</head>
<body>
    <div>
        <header>
            <img alt="image01" id="image01" src="images/image01.jpg"/>
        </header>
    </div>
    
    <div>
        <h1>
            <span class="small">è¿™é‡Œæ˜¯</span>
            <span class="medium"><a href="https://x.com/mikotossd0106" target="_blank">å¾¡å‚é±¼å‚</a></span>
        </h1>
        <p style="margin-top: 10px;">
            <span class="small">å¥½å§è¿™ä¸ªäººå¹¶</span>
            <span class="medium">ä¸çŸ¥é“</span>
            <span class="small">å†™ä»€ä¹ˆï¼Œè¯·è¾“å…¥</span>
            <span class="medium">æ–‡æœ¬</span>
        </p>
    </div>
    <div>
        <h2>
            <span class="small">å¾¡å‚é±¼å‚çš„</span>
            <span class="medium">é£Ÿç”¨æŒ‡å—</span>
            <span class="small">â†“ï¼ˆå­˜ç–‘ï¼‰</span>
        </h2>
    </div>
    
    <div id="ul01">
        <ul>
            <li><span class="small">è€³æœµè¢«</span><span class="medium">æ°´æœˆé›¨</span><span class="small">çš„</span><span class="medium">å’Œé¸£</span><span class="small">ç»™</span><span class="medium">æƒ¯åäº†</span><br/><span class="small" style="font-size: 0.9em;">ï¼ˆæ˜¯ä¸ªHIFIéš¾æ°‘ï¼‰</span></li>
            <li><span class="small">ä¿¡ä»°æ˜¯</span><span class="medium">æŒ‡å°–è·ƒåŠ¨çš„</span><span class="small"><a href="https://space.bilibili.com/514128180" target="_blank">bilibili</a></span><span class="medium">ç”µå…‰</span></li>
            <li><span class="small">æˆåˆ†ç”±</span><span class="medium">Warma</span><span class="small">å’Œè½¯èŒçš„</span><span class="medium"><a href="https://t.me/+85vc8uK_ebUyM2E1" target="_blank">è¯—å²¸</a></span><span class="small">çš„æ­Œå£°</span><span class="medium">æ··åˆè€Œæˆ</span></li>
            <li><span class="small">åœ¨</span><span class="medium">åœ°å¹³çº¿5</span><span class="small">é‡Œ</span><span class="medium">é£™è½¦</span><span class="small">ï¼Œåœ¨</span><span class="medium">Galgame</span><span class="small">é‡Œ</span><span class="medium">é£™æ³ª</span></li>
            <li><span class="small">æ‰‹æŒ</span><span class="medium">ç™½è‰²é™¶ç“·</span><span class="small">è´¨æ„Ÿçš„</span><span class="medium">Pixel 9 Pro XL</span><span class="small">å‡è£…è‡ªå·±æ˜¯</span><span class="medium">åŸç”Ÿå…š</span></li>
            <li><span class="small">æ˜¯ä¸€ä¸ª</span><span class="medium">Keterçº§</span><span class="small">å–œæ¬¢çœ‹</span><span class="medium"><a href="https://scp-wiki-cn.wikidot.com/everkeep-hub" target="_blank">SCP</a></span><span class="small">çš„</span><span class="medium">ç°å®æ‰­æ›²è€…</span></li>
            <li><span class="small">å…³æŠ¼åœ¨</span><span class="medium">åå¹³ç±³</span><span class="small">åªæœ‰</span><span class="medium">åºŠ</span><span class="small">å’Œ</span><span class="medium">AMD 7500f + 4060ti</span><span class="small">çš„</span><span class="medium">ç”µå­ç‰¢æˆ¿</span></li>
            <li><span class="small">æ”¶å®¹æªæ–½ï¼š</span><span class="medium">23â„ƒ</span><span class="small">ä»¥åŠ</span><span class="medium">30%æ¹¿åº¦</span><br/><span class="small" style="font-size: 0.9em; color: #e74c3c;">(æ•‘æ•‘æˆ‘çš„ 3Dæ‰“å°è€—æ)</span></li>
        </ul>
    </div>

    <div style="margin-top: 40px;">
        <p id="link_yiur">
            <a href="https://yiurblog.top/" target="_blank">æ¥è‡ªæ´›ğŸ±çš„å‹é“¾</a>
        </p>
    </div>

    <div style="margin-top: 60px;">
        <h2>
            <span class="small">éšæœºæ‰è½çš„</span>
            <span class="medium">ç¢ç¢å¿µ</span>
            <span class="small">â†“</span>
        </h2>
    </div>

    <div class="card-grid" id="blog-list">
        <p class="small" id="loading-text">æ­£åœ¨æ‰«æç°å®æ‰­æ›²åœº...</p>
    </div>

    <div id="blog-content" style="margin-top: 20px; display: none;">
        <button class="back-btn" onclick="backToList()">â† è¿”å›åˆ—è¡¨</button>
        <div class="content-card" id="post-display-area">
            </div>
    </div>

    <script>
        // æ ¸å¿ƒé€»è¾‘ï¼šä» JSON åŠ è½½æ•°æ®
        const BLOG_INDEX_URL = './data/posts.json';

        async function initBlog() {
            try {
                const response = await fetch(BLOG_INDEX_URL);
                if (!response.ok) throw new Error("æ— æ³•è¯»å–æ”¶å®¹ç›®å½•");
                const posts = await response.json();
                renderList(posts);
            } catch (error) {
                document.getElementById('blog-list').innerHTML = 
                    `<p class="small" style="color:var(--accent-color)">âš ï¸ æ”¶å®¹å¤±æ•ˆï¼šæ— æ³•åŠ è½½ç¢ç¢å¿µ (${error.message})</p>`;
            }
        }

        function renderList(posts) {
            const listContainer = document.getElementById('blog-list');
            listContainer.innerHTML = ''; // æ¸…ç©ºåŠ è½½æç¤º
            
            if (posts.length === 0) {
                listContainer.innerHTML = '<p class="small">æš‚æ— æ”¶å®¹è®°å½•ã€‚</p>';
                return;
            }

            posts.forEach(post => {
                const card = document.createElement('div');
                card.className = 'blog-card';
                card.onclick = () => loadPost(post.id);
                // ä½¿ç”¨ innerHTML æ¸²æŸ“ï¼Œæ³¨æ„ Python ç«¯å·²ç»åšè¿‡è½¬ä¹‰ï¼Œè¿™é‡Œæ˜¯å®‰å…¨çš„
                card.innerHTML = `
                    <span class="medium">${post.title}</span><br/>
                    <span class="small">${post.intro}</span>
                `;
                listContainer.appendChild(card);
            });
        }

        async function loadPost(postId) {
            const displayArea = document.getElementById("post-display-area");
            const list = document.getElementById("blog-list");
            const content = document.getElementById("blog-content");

            // æ˜¾ç¤ºåŠ è½½çŠ¶æ€
            displayArea.innerHTML = '<p class="small">æ­£åœ¨è§£å¯†æ–‡æ¡£...</p>';
            list.style.display = "none";
            content.style.display = "block";

            try {
                const response = await fetch(`data/articles/${postId}.json`);
                if (!response.ok) throw new Error("æ–‡æ¡£å·²æŸæ¯æˆ–æƒé™ä¸è¶³");
                const article = await response.json();

                const imgHtml = article.image ? `<img src="./images/${article.image}" class="blog-img">` : "";
                
                displayArea.innerHTML = `
                    <h3>${article.title}</h3>
                    ${imgHtml}
                    <p class="small">${article.content}</p>
                `;
            } catch (error) {
                displayArea.innerHTML = `<p class="small" style="color:var(--accent-color)">âš ï¸ è®¿é—®è¢«æ‹’ç»ï¼š${error.message}</p>`;
            }
        }

        function backToList() {
            document.getElementById("blog-list").style.display = "grid";
            document.getElementById("blog-content").style.display = "none";
            document.getElementById("post-display-area").innerHTML = ""; // æ¸…ç†å†…å­˜
        }

        // é¡µé¢åŠ è½½å®Œæˆåå¯åŠ¨
        window.addEventListener('DOMContentLoaded', initBlog);
    </script>
</body>
</html>